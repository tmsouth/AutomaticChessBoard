from time import sleep


currentX = 0
currentY = 0
absX = 0
absY = 0
relX = 0
relY = 0
relA = 0
relB = 0
mag = 0

moveList = [[0,0],[1,1],[2,0],[3,0],[4,2]]

open('reset.txt', 'w').close()
file = open('reset.txt', 'a')


def wrtieMove(move):
    target = open('out.txt', 'a')
    target.write(move)
    target.write("\n")
    target.close()

servoList = []


def makeMove(posList):

    
    # ser.open()
    global absX
    global absY
    global relX
    global relY
    global relA
    global relB
    global mag
    global currentX
    global currentY
    global ready
    ready = False
    print posList
    
    

    for i in range(0,len(posList)):

        relX = 0
        relY = 0
        relA = 0
        relB = 0
        absX = posList[i][1]
        absY = posList[i][0]
        relX = absX - currentX
        relY = absY - currentY
        if relX == relY:
            relA = relX
            relX = 0
            relY = 0
        if (relX == -relY):
            relB = -relX
            relX = 0
            relY = 0

        servoList.append(int(2*relX))
        servoList.append(int(2*relY))
        servoList.append(int(2*relA))
        servoList.append(int(2*relB))
        if i==0 or mag==1:
            mag = 1
        if i==len(posList)-1:
            mag = 0   
        servoList.append(int(2*mag))

        currentX = absX
        currentY = absY
        


        # print currentX, currentY, relX, relY
        
        # print move
        # print str(servoList)

# print servoList

# print len([7, 6, 0, 0, 0, -2, 0, 0, 0, 0, -3, -1, 0, 0, 0, 2, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 1, 0, -2, 0, 0, 0, 0, 0, -1, 0, 0, 0, 0, 0, -1, 0, 0, 0, -1, 0, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 3, 5, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, -3, 0, -1, 0, 0, 0, 0, 0, 0, 0, 1, 0, -4, -1, 0, 0, 0, 0, 0, 0, -0.5, 0, -1.5, 0.5, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 2, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -2, -7, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, -3, 1, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, -4, -2, 0, 0, 0, 2, 0, 0, 0, 0, 3, -1, 0, 0, 0, -1, 0, 0, 0, 0, -5, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, -1, 0, 0, 0, -1, 0, 0, 0, 0, -5, 0, 0, 0, 0, 0, 0, 2, 0, 0, 5, 2, 0, 0, 0, -1, 0, 0, 0, 0, 0, 0, -1, 0, 0, -5, -1, 0, 0, 0, 0, -2, 0, 0, 0, 0, -2, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 5, 2, 0, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 1, 0, -2, 0, 0, 0, 0, 0, 0, 0.5, 0, 0, -1.5, -0.5, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, -1, 0, 3, -2, 0, 0, 0, -1, 0, 0, 0, 0, -2, 1, 0, 0, 0, 0, 0, -1, 0, 0, 5, 4, 0, 0, 0, -1, 0, 0, 0, 0, -1, -4, 0, 0, 0, 0, 0, -1, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 2, 6, 0, 0, 0, 0, 0, 0, -1, 0, 2, 1, 0, 0, 0, 0, 0, -1, 0, 0, -5, 2, 0, 0, 0, 0, 0, 0, -3, 0, 2, 0, 0, 0, 0, -1, 0, 0, 0, 0, -4, 5, 0, 0, 0, 0, -3, 0, 0, 0, 7, 1, 0, 0, 0, 0, 0, -1, 0, 0, 0, 2, 0, 0, 0, 0, 0, -1, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 1, 5, 0, 0, 0, 0, 0, 3, 0, 0, -3, 0, 0, 0, 0, -1, 0, 0, 0, 0, 0, 0, -1, 0, 0, 2, -3, 0, 0, 0, 0, 0, 0.5, 0, 0, -1.5, -0.5, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, -1, 0, 1, 2, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 0, -1, 0, 0, 0, -1, 0, 0, 0, 0, 0, -1, 0, 0, 3, 8, 0, 0, 0, 0, 0, -1, 0, 0, 2, -1, 0, 0, 0, 0, 2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, -1, 0, 0, -1, 0, 0, 0, 0, 0, -1, 0, 0, -1, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 0, -1, 0, 0, -4, 6, 0, 0, 0, 6, 0, 0, 0, 0, -4, 1, 0, 0, 0, 0, 0, 0, -0.5, 0, -1.5, 0.5, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 2, -1, 0, 0, 0, 0, -2, 0, 0, 0, 1, -3, 0, 0, 0, -1, 0, 0, 0, 0, 1, 5, 0, 0, 0, 0, 0, -1, 0, 0, 0, 0, 0, -1, 0, 0, 0, -1, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 1, 6, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, -3, 0, 0, 0, 0, 0, -1, 0, 0, -1, -2, 0, 0, 0, 0, 0, 0, -1, 0, 0, 3, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, -3, 0, 0, 1, 0, 0, 0, 0, 2, 3, 0, 0, 0, 0, 1, 0, 0, 0, -6, -4, 0, 0, 0, 0, 0, 0, -1, 0, 1, 4, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, -2, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, -2, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -2, -9, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 1, 0, 0, 0, 0, 0, -3, 0, 0, 0, -2, 0, 0, 0, 0, 1, 2, 0, 0, 0, 0, 3, 0, 0, 0, 1, -2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, -4, 0, 0, 0, 0, -2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, -6, 5, 0, 0, 0, 7, 0, 0, 0, 0, -2, 3, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, -1, 0, 0, 0, 0, 0, 0, -1, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 5, 0, 0, 0, 0, 2, 0, 0, 0])



# makeMove(moveList)